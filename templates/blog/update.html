{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}Edit "{{ post['title'] }}"{% endblock %}</h1>
{% endblock %}

{% block content %}
    <form method="post">
{#        标题#}
{#        request.form['title'] or post['title']选择默认是什么数据在表单里，
          表单没有提交就是原始的post数据，如果是无效表单，就是request.form#}
        <label for="title">Title</label>
        <input name="title" id="title"
               value="{{ request.form['title'] or post['title'] }}" required>
{#        期望金额#}
        <label for="money">money</label>
        <input name="money" id="money"
               oninput = "value=value.replace(/[^\d]/g,'')"
               value="{{ request.form['money'] or post['money'] }}" required>
{#        正文内容#}
        <label for="body">Body</label>
        <textarea name="body" id="body">{{ request.form['body'] or post['body'] }}</textarea>
{#        保存编辑按钮#}
        <input type="submit" value="Save">
    </form>
    <hr>
{#        删除按钮，会在删除前有一个确认提示#}
    <form action="{{ url_for('blog.delete', id=post['id']) }}" method="post">
        <input class="danger" type="submit" value="Delete" onclick="return confirm('确认删除本帖?');">
    </form>
{% endblock %}

{#这个文件里面有两个表单，一个将编辑后的数据发送到当前页面/<id>/update，
  另一个表单只包含一个按钮，并指定一个action属性来提交到删除视图
  这个按钮使用了一些JavaScript，用来在提交前展示一个确认对话框。#}
